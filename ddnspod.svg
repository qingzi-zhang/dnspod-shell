<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="1667" height="1051" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[parse_command -->> show_help: option -h, --help
show_help --> exit:
parse_command  ->> validate_config: options\n-h, --help， --config-file，--force-update, --log-level
note over validate_config: extract_config()
validate_config --> exit: Invalid configuration
validate_config ->> proc_ddns_records:
note over proc_ddns_records: get_ddns_field()
proc_ddns_records --> exit: No DDNS records
proc_ddns_records ->> sync_ddns_rec:
note over sync_ddns_rec: get_local_ip()\n get_internet_ip()
sync_ddns_rec ->> rec_query: option --force-update\n record out of date
sync_ddns_rec -->> proc_ddns_records: record up to date
rec_query ->> tencent_api_req:
tencent_api_req ->> rec_query: log_msg()
rec_query ->> sync_ddns_rec:record cache out of date
sync_ddns_rec ->> rec_update: option --force-update\n record out of date\n
sync_ddns_rec -->> proc_ddns_records: record cache up to date
rec_update ->> tencent_api_req: 
tencent_api_req ->> rec_update: log_msg()
rec_update ->> sync_ddns_rec: 
sync_ddns_rec ->> proc_ddns_records:
note over proc_ddns_records:⮬ handle next record
sync_ddns_rec --> exit: No more records]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><path d="M10,20C85.8,26.7 37.0,13.3 178.6,20.0C176.9,55.5 180.3,28.2 178.6,62.3C123.7,55.5 79.4,69.0 10.0,62.3C8.3,26.8 11.7,55.5 10.0,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20" y="44.14285755157471" style="font-size: 16px; font-family: daniel black;"><tspan x="20">parse_command</tspan></text></g><g class="actor"><path d="M10,989.0857181549072C138.1,982.3 50.5,995.8 178.6,989.1C176.9,1003.3 180.3,995.9 178.6,1031.4C142.2,1038.1 37.0,1024.6 10.0,1031.4C8.3,1024.6 11.7,1021.2 10.0,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20" y="1013.2285757064819" style="font-size: 16px; font-family: daniel black;"><tspan x="20">parse_command</tspan></text></g><path d="M94.3,62.3C57.2,744.4 131.4,284.7 94.3,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M198.5839385986328,20C300.3,24.8 244.1,15.2 319.6,20.0C317.9,48.4 321.3,28.0 319.6,62.3C228.7,67.1 294.1,57.4 198.6,62.3C196.9,46.0 200.3,52.1 198.6,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="208.5839385986328" y="44.571428298950195" style="font-size: 16px; font-family: daniel black;"><tspan x="208.5839385986328">show_help</tspan></text></g><g class="actor"><path d="M198.5839385986328,989.0857181549072C251.1,993.9 237.1,984.2 319.6,989.1C317.9,1012.3 321.3,1001.3 319.6,1031.4C249.5,1026.5 252.3,1036.2 198.6,1031.4C200.3,999.2 196.9,995.9 198.6,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="208.5839385986328" y="1013.6571464538574" style="font-size: 16px; font-family: daniel black;"><tspan x="208.5839385986328">show_help</tspan></text></g><path d="M259.1,62.3C296.2,766.7 222.0,751.7 259.1,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M339.6301956176758,20C359.3,17.9 379.7,22.1 392.4,20.0C390.7,26.9 394.1,30.1 392.4,62.3C348.1,64.4 352.3,60.2 339.6,62.3C337.9,52.1 341.3,55.5 339.6,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="350.4873384833336" y="45.85714340209961" style="font-size: 16px; font-family: daniel black;"><tspan x="349.6301956176758">exit</tspan></text></g><g class="actor"><path d="M339.6301956176758,989.0857181549072C348.8,987.0 383.9,991.2 392.4,989.1C394.1,999.2 390.7,997.0 392.4,1031.4C357.5,1033.5 383.9,1029.3 339.6,1031.4C341.3,1002.7 337.9,1021.2 339.6,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="350.4873384833336" y="1014.9428615570068" style="font-size: 16px; font-family: daniel black;"><tspan x="349.6301956176758">exit</tspan></text></g><path d="M366.0,62.3C328.9,603.2 403.1,553.2 366.0,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M476.6536674499512,20C501.6,26.2 555.7,13.8 631.3,20.0C633.0,46.0 629.6,55.5 631.3,62.3C594.2,56.1 541.9,68.5 476.7,62.3C478.3,52.1 475.0,48.1 476.7,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="486.6536674499512" y="43.7142858505249" style="font-size: 16px; font-family: daniel black;"><tspan x="486.6536674499512">validate_config</tspan></text></g><g class="actor"><path d="M476.6536674499512,989.0857181549072C541.6,982.9 584.7,995.3 631.3,989.1C633.0,997.8 629.6,1022.9 631.3,1031.4C579.0,1025.2 606.5,1037.6 476.7,1031.4C478.3,1007.9 475.0,999.2 476.7,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="486.6536674499512" y="1012.8000040054321" style="font-size: 16px; font-family: daniel black;"><tspan x="486.6536674499512">validate_config</tspan></text></g><path d="M554.0,62.3C591.0,752.7 516.9,476.2 554.0,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M651.2786674499512,20C811.4,11.6 718.8,28.4 861.9,20.0C863.6,52.1 860.2,30.9 861.9,62.3C795.5,70.7 753.5,53.9 651.3,62.3C653.0,26.8 649.6,33.3 651.3,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="661.2786674499512" y="44.14285755157471" style="font-size: 16px; font-family: daniel black;"><tspan x="661.2786674499512">proc_ddns_records</tspan></text></g><g class="actor"><path d="M651.2786674499512,989.0857181549072C802.1,997.5 791.5,980.7 861.9,989.1C860.2,1006.1 863.6,997.1 861.9,1031.4C738.7,1022.9 685.0,1039.8 651.3,1031.4C649.6,1021.2 653.0,1023.7 651.3,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="661.2786674499512" y="1013.2285757064819" style="font-size: 16px; font-family: daniel black;"><tspan x="661.2786674499512">proc_ddns_records</tspan></text></g><path d="M756.6,62.3C793.7,766.7 719.5,298.7 756.6,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M907.3952598571777,20C1029.3,26.6 934.0,13.4 1073.4,20.0C1075.1,52.0 1071.7,35.2 1073.4,62.3C1046.8,55.6 934.0,68.9 907.4,62.3C905.7,27.9 909.1,55.5 907.4,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="917.3952598571777" y="43.7142858505249" style="font-size: 16px; font-family: daniel black;"><tspan x="917.3952598571777">sync_ddns_rec</tspan></text></g><g class="actor"><path d="M907.3952598571777,989.0857181549072C947.2,982.4 1006.9,995.7 1073.4,989.1C1071.7,1024.6 1075.1,995.9 1073.4,1031.4C1005.5,1038.0 960.9,1024.7 907.4,1031.4C909.1,1021.2 905.7,1024.6 907.4,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="917.3952598571777" y="1012.8000040054321" style="font-size: 16px; font-family: daniel black;"><tspan x="917.3952598571777">sync_ddns_rec</tspan></text></g><path d="M990.4,62.3C1027.5,579.5 953.3,822.1 990.4,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M1173.65140914917,20C1202.2,24.8 1264.1,15.2 1292.6,20.0C1294.3,30.1 1290.9,51.6 1292.6,62.3C1273.6,57.5 1231.8,67.0 1173.7,62.3C1175.3,28.4 1172.0,33.7 1173.7,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1183.65140914917" y="43.285715103149414" style="font-size: 16px; font-family: daniel black;"><tspan x="1183.65140914917">rec_query</tspan></text></g><g class="actor"><path d="M1173.65140914917,989.0857181549072C1192.7,993.8 1241.0,984.3 1292.6,989.1C1294.3,1001.4 1290.9,1024.6 1292.6,1031.4C1202.2,1036.1 1264.1,1026.6 1173.7,1031.4C1175.3,999.2 1172.0,999.2 1173.7,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1183.65140914917" y="1012.3714332580566" style="font-size: 16px; font-family: daniel black;"><tspan x="1183.65140914917">rec_query</tspan></text></g><path d="M1233.1,62.3C1196.1,651.8 1270.2,492.8 1233.1,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M1312.6085014343262,20C1427.2,12.9 1380.9,27.1 1489.1,20.0C1487.4,51.3 1490.8,36.9 1489.1,62.3C1370.2,69.3 1429.2,55.2 1312.6,62.3C1310.9,45.0 1314.3,26.8 1312.6,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1323.465644299984" y="43.285715103149414" style="font-size: 16px; font-family: daniel black;"><tspan x="1322.6085014343262">tencent_api_req</tspan></text></g><g class="actor"><path d="M1312.6085014343262,989.0857181549072C1459.8,982.0 1439.6,996.1 1489.1,989.1C1487.4,1021.2 1490.8,1002.7 1489.1,1031.4C1460.8,1038.4 1384.4,1024.3 1312.6,1031.4C1310.9,1013.0 1314.3,999.3 1312.6,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1323.465644299984" y="1012.3714332580566" style="font-size: 16px; font-family: daniel black;"><tspan x="1322.6085014343262">tencent_api_req</tspan></text></g><path d="M1400.8,62.3C1363.8,506.6 1437.9,640.4 1400.8,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M1509.0723991394043,20C1568.8,25.1 1606.5,14.9 1637.3,20.0C1635.6,46.6 1639.0,52.1 1637.3,62.3C1616.8,67.4 1529.6,57.2 1509.1,62.3C1510.8,49.9 1507.4,30.1 1509.1,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1519.0723991394043" y="44.14285755157471" style="font-size: 16px; font-family: daniel black;"><tspan x="1519.0723991394043">rec_update</tspan></text></g><g class="actor"><path d="M1509.0723991394043,989.0857181549072C1557.9,994.2 1536.6,984.0 1637.3,989.1C1635.6,1006.2 1639.0,1003.2 1637.3,1031.4C1529.6,1036.5 1575.6,1026.2 1509.1,1031.4C1507.4,995.9 1510.8,1024.6 1509.1,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1519.0723991394043" y="1013.2285757064819" style="font-size: 16px; font-family: daniel black;"><tspan x="1519.0723991394043">rec_update</tspan></text></g><path d="M1573.2,62.3C1536.1,284.7 1610.3,457.7 1573.2,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="signal"><text x="109.10049629211426" y="90.7142858505249" style="font-size: 16px; font-family: daniel black;"><tspan x="109.10049629211426">option -h, --help</tspan></text><path d="M94.3,104.6C232.7,111.2 123.4,98.0 259.1,104.6" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="312.5567054748535" y="129.57143020629883" style="font-size: 16px; font-family: daniel black;"><tspan x="312.5567054748535"></tspan></text><path d="M259.1,124.6C348.9,120.3 306.2,128.8 366.0,124.6" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="115.51821327209473" y="142.1142864227295" style="font-size: 16px; font-family: daniel black;"><tspan x="115.51821327209473">options</tspan><tspan dy="1.2em" x="115.51821327209473">-h, --help， --config-file，--force-update, --log-level</tspan></text><path d="M94.3,185.2C176.5,203.6 294.0,166.8 554.0,185.2" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M476.2898292541504,205.20000457763672C536.3,211.4 540.9,199.0 631.6,205.2C633.0,230.5 630.3,216.3 631.6,238.3C578.9,244.6 606.8,232.1 476.3,238.3C475.0,231.2 477.6,223.9 476.3,205.2" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="482.1469721198082" y="224.7714328765869" style="font-size: 16px; font-family: daniel black;"><tspan x="481.2898292541504">extract_config()</tspan></text></g><g class="signal"><text x="376.00634384155273" y="265.9142894744873" style="font-size: 16px; font-family: daniel black;"><tspan x="376.00634384155273">Invalid configuration</tspan></text><path d="M554.0,280.6C426.5,288.1 487.2,273.1 366.0,280.6" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="655.2782859802246" y="305.6285762786865" style="font-size: 16px; font-family: daniel black;"><tspan x="655.2782859802246"></tspan></text><path d="M554.0,300.6C586.4,292.5 686.7,308.7 756.6,300.6" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M669.9877281188965,320.6285762786865C772.0,313.7 815.5,327.6 843.2,320.6C841.9,345.8 844.5,348.5 843.2,353.8C801.6,360.7 795.2,346.8 670.0,353.8C668.7,339.8 671.3,348.5 670.0,320.6" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="680.130585193634" y="340.2000045776367" style="font-size: 16px; font-family: daniel black;"><tspan x="674.9877281188965">get_ddns_field()</tspan></text></g><g class="signal"><text x="479.0718116760254" y="383.9142904281616" style="font-size: 16px; font-family: daniel black;"><tspan x="479.0718116760254">No DDNS records</tspan></text><path d="M756.6,390.9C428.5,406.5 672.4,375.3 366.0,390.9" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="873.4917182922363" y="415.9142894744873" style="font-size: 16px; font-family: daniel black;"><tspan x="873.4917182922363"></tspan></text><path d="M756.6,410.9C832.2,420.3 812.7,401.6 990.4,410.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M903.6296348571777,430.9142894744873C971.5,437.9 1042.4,424.0 1077.2,430.9C1075.1,470.7 1079.3,458.4 1077.2,483.3C993.4,476.3 1049.4,490.2 903.6,483.3C901.5,439.3 905.7,474.9 903.6,430.9" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="913.7724919319153" y="450.4857177734375" style="font-size: 16px; font-family: daniel black;"><tspan x="908.6296348571777">get_local_ip()</tspan><tspan dy="1.2em" x="908.6296348571777">get_internet_ip()</tspan></text></g><g class="signal"><text x="1020.4444541931152" y="503.80000400543213" style="font-size: 16px; font-family: daniel black;"><tspan x="1020.4444541931152">option --force-update</tspan><tspan dy="1.2em" x="1020.4444541931152">record out of date</tspan></text><path d="M990.4,539.6C1187.8,529.9 1174.9,549.3 1233.1,539.6" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="793.213680267334" y="567.600004196167" style="font-size: 16px; font-family: daniel black;"><tspan x="793.213680267334">record up to date</tspan></text><path d="M990.4,581.0C800.4,571.7 812.7,590.4 756.6,581.0" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1316.9852027893066" y="606.0285758972168" style="font-size: 16px; font-family: daniel black;"><tspan x="1316.9852027893066"></tspan></text><path d="M1233.1,601.0C1260.0,594.3 1287.2,607.7 1400.8,601.0" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1273.003059387207" y="629.0285758972168" style="font-size: 16px; font-family: daniel black;"><tspan x="1273.003059387207">log_msg()</tspan></text><path d="M1400.8,644.2C1360.4,637.5 1319.3,650.9 1233.1,644.2" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1000.3930320739746" y="674.7428607940674" style="font-size: 16px; font-family: daniel black;"><tspan x="1000.3930320739746">record cache out of date</tspan></text><path d="M1233.1,682.2C1109.9,672.5 1072.7,691.9 990.4,682.2" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1190.4714908599854" y="702.7142896652222" style="font-size: 16px; font-family: daniel black;"><tspan x="1190.4714908599854">option --force-update</tspan><tspan dy="1.2em" x="1190.4714908599854">record out of date</tspan><tspan dy="1.2em" x="1190.4714908599854"></tspan></text><path d="M990.4,738.5C1083.6,715.2 1227.6,761.8 1573.2,738.5" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="766.590404510498" y="766.9428606033325" style="font-size: 16px; font-family: daniel black;"><tspan x="766.590404510498">record cache up to date</tspan></text><path d="M990.4,780.8C794.0,790.2 812.7,771.4 756.6,780.8" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1487.0122394561768" y="805.8000049591064" style="font-size: 16px; font-family: daniel black;"><tspan x="1487.0122394561768"></tspan></text><path d="M1573.2,800.8C1442.2,793.9 1531.8,807.7 1400.8,800.8" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1443.0300960540771" y="828.8000049591064" style="font-size: 16px; font-family: daniel black;"><tspan x="1443.0300960540771">log_msg()</tspan></text><path d="M1400.8,843.9C1442.4,837.0 1428.4,850.8 1573.2,843.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1281.7885303497314" y="868.9428615570068" style="font-size: 16px; font-family: daniel black;"><tspan x="1281.7885303497314"></tspan></text><path d="M1573.2,863.9C1433.3,840.6 1449.3,887.3 990.4,863.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="873.4917182922363" y="888.9428615570068" style="font-size: 16px; font-family: daniel black;"><tspan x="873.4917182922363"></tspan></text><path d="M990.4,883.9C876.3,874.6 794.0,893.3 756.6,883.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M660.9917945861816,903.9428615570068C775.1,896.3 691.6,911.6 852.2,903.9C851.1,908.4 853.3,919.2 852.2,931.9C722.3,924.3 799.7,939.6 661.0,931.9C662.1,915.8 659.9,910.8 661.0,903.9" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="665.9917945861816" y="923.514289855957" style="font-size: 16px; font-family: daniel black;"><tspan x="665.9917945861816">⮬ handle next record</tspan></text></g><g class="signal"><text x="602.7831916809082" y="962.0857191085815" style="font-size: 16px; font-family: daniel black;"><tspan x="602.7831916809082">No more records</tspan></text><path d="M990.4,969.1C721.8,944.1 515.9,994.1 366.0,969.1" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g></svg>