<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="1699" height="1088" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[parse_command -->> show_help: option -h, --help
show_help --> exit:
parse_command  ->> validate_config: options\n-h, --help， --config-file，--force-update, --log-level
note over validate_config: extract_config()
validate_config --> exit: Invalid configuration
validate_config ->> proc_ddns_records:
note over proc_ddns_records: get_ddns_field()
proc_ddns_records --> exit: No DDNS records
proc_ddns_records ->> sync_ddns_rec:
note over sync_ddns_rec: query_interface_ip()\n query_nslookup_ip()
sync_ddns_rec ->> rec_query: option --force-update\n record out of date
sync_ddns_rec -->> proc_ddns_records: record up to date
rec_query ->> tencent_api_req:
tencent_api_req ->> rec_query: log_msg()\ntencent_api_err()
rec_query -->> sync_ddns_rec:record cache out of date
sync_ddns_rec ->> rec_update: option --force-update\n record out of date\n
sync_ddns_rec -->> proc_ddns_records: record cache up to date
rec_update ->> tencent_api_req: 
tencent_api_req ->> rec_update: log_msg()\ntencent_api_err()
rec_update ->> sync_ddns_rec: 
sync_ddns_rec ->> proc_ddns_records:
note over proc_ddns_records:⮬ handle next record
sync_ddns_rec --> exit: No more records]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><path d="M10,20C138.1,26.7 151.6,13.3 178.6,20.0C176.9,33.6 180.3,42.3 178.6,62.3C40.3,69.0 151.6,55.5 10.0,62.3C8.3,26.8 11.7,55.5 10.0,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20" y="44.14285755157471" style="font-size: 16px; font-family: daniel black;"><tspan x="20">parse_command</tspan></text></g><g class="actor"><path d="M10,1025.771432876587C63.8,1032.5 128.2,1019.0 178.6,1025.8C176.9,1061.3 180.3,1032.5 178.6,1068.1C138.1,1074.8 151.6,1061.3 10.0,1068.1C8.3,1061.3 11.7,1057.9 10.0,1025.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20" y="1049.9142904281616" style="font-size: 16px; font-family: daniel black;"><tspan x="20">parse_command</tspan></text></g><path d="M94.3,62.3C132.8,293.5 55.8,216.4 94.3,1025.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M198.5839385986328,20C249.6,24.8 227.6,15.2 319.6,20.0C321.3,39.8 317.9,50.5 319.6,62.3C276.9,57.4 277.2,67.1 198.6,62.3C196.9,42.9 200.3,26.8 198.6,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="208.5839385986328" y="44.571428298950195" style="font-size: 16px; font-family: daniel black;"><tspan x="208.5839385986328">show_help</tspan></text></g><g class="actor"><path d="M198.5839385986328,1025.771432876587C300.3,1020.9 218.0,1030.6 319.6,1025.8C321.3,1035.9 317.9,1050.0 319.6,1068.1C263.5,1063.2 297.1,1072.9 198.6,1068.1C196.9,1055.0 200.3,1048.9 198.6,1025.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="208.5839385986328" y="1050.342861175537" style="font-size: 16px; font-family: daniel black;"><tspan x="208.5839385986328">show_help</tspan></text></g><path d="M259.1,62.3C220.6,341.7 297.6,871.6 259.1,1025.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M339.6301956176758,20C352.3,22.1 348.1,17.9 392.4,20.0C394.1,30.1 390.7,26.8 392.4,62.3C383.9,64.4 369.5,60.2 339.6,62.3C337.9,30.1 341.3,35.4 339.6,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="350.4873384833336" y="45.85714340209961" style="font-size: 16px; font-family: daniel black;"><tspan x="349.6301956176758">exit</tspan></text></g><g class="actor"><path d="M339.6301956176758,1025.771432876587C364.4,1023.7 378.4,1027.9 392.4,1025.8C390.7,1043.1 394.1,1050.3 392.4,1068.1C369.3,1070.2 376.1,1065.9 339.6,1068.1C337.9,1061.3 341.3,1033.4 339.6,1025.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="350.4873384833336" y="1051.6285762786865" style="font-size: 16px; font-family: daniel black;"><tspan x="349.6301956176758">exit</tspan></text></g><path d="M366.0,62.3C327.5,216.4 404.5,871.6 366.0,1025.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M476.6536674499512,20C501.4,26.2 598.5,13.8 631.3,20.0C633.0,27.0 629.6,40.6 631.3,62.3C582.6,68.5 606.5,56.1 476.7,62.3C478.3,52.1 475.0,30.1 476.7,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="486.6536674499512" y="43.7142858505249" style="font-size: 16px; font-family: daniel black;"><tspan x="486.6536674499512">validate_config</tspan></text></g><g class="actor"><path d="M476.6536674499512,1025.771432876587C606.5,1019.6 549.6,1032.0 631.3,1025.8C629.6,1037.9 633.0,1043.8 631.3,1068.1C606.5,1061.9 515.2,1074.2 476.7,1068.1C478.3,1057.9 475.0,1052.9 476.7,1025.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="486.6536674499512" y="1049.4857187271118" style="font-size: 16px; font-family: daniel black;"><tspan x="486.6536674499512">validate_config</tspan></text></g><path d="M554.0,62.3C515.4,738.3 592.5,356.3 554.0,1025.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M651.2786674499512,20C754.5,11.6 711.3,28.4 861.9,20.0C860.2,34.3 863.6,40.6 861.9,62.3C685.0,70.7 701.8,53.9 651.3,62.3C649.6,30.1 653.0,52.1 651.3,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="661.2786674499512" y="44.14285755157471" style="font-size: 16px; font-family: daniel black;"><tspan x="661.2786674499512">proc_ddns_records</tspan></text></g><g class="actor"><path d="M651.2786674499512,1025.771432876587C748.1,1017.3 701.8,1034.2 861.9,1025.8C860.2,1040.0 863.6,1035.9 861.9,1068.1C796.5,1059.6 815.2,1076.5 651.3,1068.1C649.6,1035.9 653.0,1050.6 651.3,1025.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="661.2786674499512" y="1049.9142904281616" style="font-size: 16px; font-family: daniel black;"><tspan x="661.2786674499512">proc_ddns_records</tspan></text></g><path d="M756.6,62.3C795.1,687.7 718.1,330.8 756.6,1025.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M907.3952598571777,20C997.0,26.6 934.0,13.4 1073.4,20.0C1071.7,46.4 1075.1,40.0 1073.4,62.3C997.7,68.9 969.3,55.6 907.4,62.3C909.1,32.3 905.7,55.5 907.4,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="917.3952598571777" y="43.7142858505249" style="font-size: 16px; font-family: daniel black;"><tspan x="917.3952598571777">sync_ddns_rec</tspan></text></g><g class="actor"><path d="M907.3952598571777,1025.771432876587C934.0,1019.1 971.2,1032.4 1073.4,1025.8C1071.7,1044.5 1075.1,1057.9 1073.4,1068.1C937.3,1074.7 1045.0,1061.4 907.4,1068.1C905.7,1045.6 909.1,1042.1 907.4,1025.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="917.3952598571777" y="1049.4857187271118" style="font-size: 16px; font-family: daniel black;"><tspan x="917.3952598571777">sync_ddns_rec</tspan></text></g><path d="M990.4,62.3C1028.9,871.6 951.9,662.8 990.4,1025.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M1173.65140914917,20C1192.7,15.2 1273.6,24.8 1292.6,20.0C1290.9,32.1 1294.3,49.7 1292.6,62.3C1226.1,67.0 1213.0,57.5 1173.7,62.3C1175.3,28.6 1172.0,51.8 1173.7,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1183.65140914917" y="43.285715103149414" style="font-size: 16px; font-family: daniel black;"><tspan x="1183.65140914917">rec_query</tspan></text></g><g class="actor"><path d="M1173.65140914917,1025.771432876587C1220.5,1030.5 1273.6,1021.0 1292.6,1025.8C1290.9,1048.7 1294.3,1058.8 1292.6,1068.1C1236.0,1063.3 1253.6,1072.8 1173.7,1068.1C1175.3,1033.3 1172.0,1041.3 1173.7,1025.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1183.65140914917" y="1049.0571479797363" style="font-size: 16px; font-family: daniel black;"><tspan x="1183.65140914917">rec_query</tspan></text></g><path d="M1233.1,62.3C1271.7,726.8 1194.6,871.6 1233.1,1025.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M1331.0899772644043,20C1359.3,12.9 1479.3,27.1 1507.6,20.0C1509.2,55.5 1505.9,26.8 1507.6,62.3C1373.4,55.2 1383.6,69.3 1331.1,62.3C1329.4,55.5 1332.8,28.8 1331.1,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1341.947120130062" y="43.285715103149414" style="font-size: 16px; font-family: daniel black;"><tspan x="1341.0899772644043">tencent_api_req</tspan></text></g><g class="actor"><path d="M1331.0899772644043,1025.771432876587C1465.2,1032.8 1474.7,1018.7 1507.6,1025.8C1509.2,1055.5 1505.9,1035.9 1507.6,1068.1C1432.3,1061.0 1479.3,1075.1 1331.1,1068.1C1329.4,1035.9 1332.8,1053.9 1331.1,1025.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1341.947120130062" y="1049.0571479797363" style="font-size: 16px; font-family: daniel black;"><tspan x="1341.0899772644043">tencent_api_req</tspan></text></g><path d="M1419.3,62.3C1457.9,216.4 1380.8,871.6 1419.3,1025.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M1541.4022674560547,20C1596.4,14.9 1638.9,25.1 1669.6,20.0C1667.9,49.6 1671.3,49.6 1669.6,62.3C1573.1,67.4 1561.9,57.2 1541.4,62.3C1543.1,55.5 1539.7,26.8 1541.4,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1551.4022674560547" y="44.14285755157471" style="font-size: 16px; font-family: daniel black;"><tspan x="1551.4022674560547">rec_update</tspan></text></g><g class="actor"><path d="M1541.4022674560547,1025.771432876587C1573.0,1020.6 1649.1,1030.9 1669.6,1025.8C1671.3,1054.2 1667.9,1052.9 1669.6,1068.1C1612.1,1062.9 1579.0,1073.2 1541.4,1068.1C1543.1,1061.3 1539.7,1032.5 1541.4,1025.8" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1551.4022674560547" y="1049.9142904281616" style="font-size: 16px; font-family: daniel black;"><tspan x="1551.4022674560547">rec_update</tspan></text></g><path d="M1605.5,62.3C1567.0,293.5 1644.1,542.1 1605.5,1025.8" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="signal"><text x="109.10049629211426" y="90.7142858505249" style="font-size: 16px; font-family: daniel black;"><tspan x="109.10049629211426">option -h, --help</tspan></text><path d="M94.3,104.6C163.8,98.0 185.1,111.2 259.1,104.6" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="312.5567054748535" y="129.57143020629883" style="font-size: 16px; font-family: daniel black;"><tspan x="312.5567054748535"></tspan></text><path d="M259.1,124.6C276.2,128.8 348.9,120.3 366.0,124.6" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="115.51821327209473" y="142.1142864227295" style="font-size: 16px; font-family: daniel black;"><tspan x="115.51821327209473">options</tspan><tspan dy="1.2em" x="115.51821327209473">-h, --help， --config-file，--force-update, --log-level</tspan></text><path d="M94.3,185.2C333.3,166.8 243.9,203.6 554.0,185.2" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M476.2898292541504,205.20000457763672C529.8,199.0 589.1,211.4 631.6,205.2C630.3,224.4 633.0,213.2 631.6,238.3C513.6,232.1 524.7,244.6 476.3,238.3C475.0,227.2 477.6,233.0 476.3,205.2" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="482.1469721198082" y="224.7714328765869" style="font-size: 16px; font-family: daniel black;"><tspan x="481.2898292541504">extract_config()</tspan></text></g><g class="signal"><text x="376.00634384155273" y="265.9142894744873" style="font-size: 16px; font-family: daniel black;"><tspan x="376.00634384155273">Invalid configuration</tspan></text><path d="M554.0,280.6C396.1,288.1 426.3,273.1 366.0,280.6" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="655.2782859802246" y="305.6285762786865" style="font-size: 16px; font-family: daniel black;"><tspan x="655.2782859802246"></tspan></text><path d="M554.0,300.6C602.6,308.7 708.0,292.5 756.6,300.6" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M669.9877281188965,320.6285762786865C790.8,327.6 711.0,313.7 843.2,320.6C844.5,348.5 841.9,325.9 843.2,353.8C745.8,346.8 711.6,360.7 670.0,353.8C668.7,334.7 671.3,330.0 670.0,320.6" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="680.130585193634" y="340.2000045776367" style="font-size: 16px; font-family: daniel black;"><tspan x="674.9877281188965">get_ddns_field()</tspan></text></g><g class="signal"><text x="479.0718116760254" y="383.9142904281616" style="font-size: 16px; font-family: daniel black;"><tspan x="479.0718116760254">No DDNS records</tspan></text><path d="M756.6,390.9C587.0,375.3 677.5,406.5 366.0,390.9" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="873.4917182922363" y="415.9142894744873" style="font-size: 16px; font-family: daniel black;"><tspan x="873.4917182922363"></tspan></text><path d="M756.6,410.9C812.7,401.6 834.3,420.3 990.4,410.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M888.6765098571777,430.9142894744873C981.0,439.1 937.5,422.8 1092.1,430.9C1090.0,474.9 1094.2,439.3 1092.1,483.3C1031.6,491.4 1043.3,475.1 888.7,483.3C890.8,443.5 886.6,439.3 888.7,430.9" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="893.6765098571777" y="450.4857177734375" style="font-size: 16px; font-family: daniel black;"><tspan x="893.6765098571777">query_interface_ip()</tspan><tspan dy="1.2em" x="893.6765098571777">query_nslookup_ip()</tspan></text></g><g class="signal"><text x="1020.4444541931152" y="503.80000400543213" style="font-size: 16px; font-family: daniel black;"><tspan x="1020.4444541931152">option --force-update</tspan><tspan dy="1.2em" x="1020.4444541931152">record out of date</tspan></text><path d="M990.4,539.6C1149.4,549.3 1029.2,529.9 1233.1,539.6" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="793.213680267334" y="567.600004196167" style="font-size: 16px; font-family: daniel black;"><tspan x="793.213680267334">record up to date</tspan></text><path d="M990.4,581.0C953.0,571.7 800.2,590.4 756.6,581.0" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1326.2259407043457" y="606.0285758972168" style="font-size: 16px; font-family: daniel black;"><tspan x="1326.2259407043457"></tspan></text><path d="M1233.1,601.0C1330.0,608.5 1320.1,593.6 1419.3,601.0" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1243.9870981574059" y="619.8571472167969" style="font-size: 16px; font-family: daniel black;"><tspan x="1243.129955291748">log_msg()</tspan><tspan dy="1.2em" x="1243.129955291748">tencent_api_err()</tspan></text><path d="M1419.3,662.5C1374.6,670.0 1341.6,655.1 1233.1,662.5" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1000.3930320739746" y="693.0857181549072" style="font-size: 16px; font-family: daniel black;"><tspan x="1000.3930320739746">record cache out of date</tspan></text><path d="M1233.1,700.5C1169.1,710.2 1065.1,690.8 990.4,700.5" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1206.6364250183105" y="721.057147026062" style="font-size: 16px; font-family: daniel black;"><tspan x="1206.6364250183105">option --force-update</tspan><tspan dy="1.2em" x="1206.6364250183105">record out of date</tspan><tspan dy="1.2em" x="1206.6364250183105"></tspan></text><path d="M990.4,756.9C1507.1,781.5 1457.9,732.3 1605.5,756.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="766.590404510498" y="785.2857179641724" style="font-size: 16px; font-family: daniel black;"><tspan x="766.590404510498">record cache up to date</tspan></text><path d="M990.4,799.1C808.6,808.5 812.7,789.8 756.6,799.1" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1512.417911529541" y="824.1428623199463" style="font-size: 16px; font-family: daniel black;"><tspan x="1512.417911529541"></tspan></text><path d="M1605.5,819.1C1485.2,826.6 1449.1,811.7 1419.3,819.1" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1430.1790689826012" y="837.9714336395264" style="font-size: 16px; font-family: daniel black;"><tspan x="1429.3219261169434">log_msg()</tspan><tspan dy="1.2em" x="1429.3219261169434">tencent_api_err()</tspan></text><path d="M1419.3,880.6C1477.3,873.2 1498.4,888.1 1605.5,880.6" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1297.9534645080566" y="905.6285762786865" style="font-size: 16px; font-family: daniel black;"><tspan x="1297.9534645080566"></tspan></text><path d="M1605.5,900.6C1166.2,876.0 1138.0,925.2 990.4,900.6" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="873.4917182922363" y="925.6285762786865" style="font-size: 16px; font-family: daniel black;"><tspan x="873.4917182922363"></tspan></text><path d="M990.4,920.6C818.4,911.3 874.5,930.0 756.6,920.6" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M660.9917945861816,940.6285762786865C691.6,933.0 717.6,948.3 852.2,940.6C851.1,950.4 853.3,964.1 852.2,968.6C817.8,976.3 691.6,961.0 661.0,968.6C659.9,952.6 662.1,947.4 661.0,940.6" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="665.9917945861816" y="960.2000045776367" style="font-size: 16px; font-family: daniel black;"><tspan x="665.9917945861816">⮬ handle next record</tspan></text></g><g class="signal"><text x="602.7831916809082" y="998.7714338302612" style="font-size: 16px; font-family: daniel black;"><tspan x="602.7831916809082">No more records</tspan></text><path d="M990.4,1005.8C840.5,980.8 890.5,1030.7 366.0,1005.8" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g></svg>