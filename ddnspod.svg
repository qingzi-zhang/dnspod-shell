<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="1667" height="1051" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[parse_command -->> show_help: option -h, --help
show_help --> exit:
parse_command  ->> validate_config: options\n-h, --help， --config-file，--force-update, --log-level
note over validate_config: extract_config()
validate_config --> exit: Invalid configuration
validate_config ->> proc_ddns_records:
note over proc_ddns_records: get_ddns_field()
proc_ddns_records --> exit: No DDNS records
proc_ddns_records ->> sync_ddns_rec:
note over sync_ddns_rec: query_interface_ip()\n query_nslookup_ip()
sync_ddns_rec ->> rec_query: option --force-update\n record out of date
sync_ddns_rec -->> proc_ddns_records: record up to date
rec_query ->> tencent_api_req:
tencent_api_req ->> rec_query: log_msg()
rec_query ->> sync_ddns_rec:record cache out of date
sync_ddns_rec ->> rec_update: option --force-update\n record out of date\n
sync_ddns_rec -->> proc_ddns_records: record cache up to date
rec_update ->> tencent_api_req: 
tencent_api_req ->> rec_update: log_msg()
rec_update ->> sync_ddns_rec: 
sync_ddns_rec ->> proc_ddns_records:
note over proc_ddns_records:⮬ handle next record
sync_ddns_rec --> exit: No more records]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><path d="M10,20C37.0,26.7 142.2,13.3 178.6,20.0C176.9,44.8 180.3,31.9 178.6,62.3C99.1,55.5 103.4,69.0 10.0,62.3C11.7,52.1 8.3,55.5 10.0,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20" y="44.14285755157471" style="font-size: 16px; font-family: daniel black;"><tspan x="20">parse_command</tspan></text></g><g class="actor"><path d="M10,989.0857181549072C109.7,995.8 80.3,982.3 178.6,989.1C180.3,1018.5 176.9,1000.9 178.6,1031.4C151.6,1024.6 64.6,1038.1 10.0,1031.4C8.3,995.9 11.7,1008.7 10.0,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="20" y="1013.2285757064819" style="font-size: 16px; font-family: daniel black;"><tspan x="20">parse_command</tspan></text></g><path d="M94.3,62.3C131.4,766.7 57.2,840.8 94.3,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M198.5839385986328,20C290.6,24.8 300.3,15.2 319.6,20.0C321.3,52.1 317.9,30.1 319.6,62.3C285.2,67.1 227.6,57.4 198.6,62.3C200.3,45.7 196.9,26.8 198.6,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="208.5839385986328" y="44.571428298950195" style="font-size: 16px; font-family: daniel black;"><tspan x="208.5839385986328">show_help</tspan></text></g><g class="actor"><path d="M198.5839385986328,989.0857181549072C252.8,993.9 237.4,984.2 319.6,989.1C317.9,1021.4 321.3,999.4 319.6,1031.4C234.1,1026.5 244.4,1036.2 198.6,1031.4C196.9,1012.9 200.3,1021.2 198.6,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="208.5839385986328" y="1013.6571464538574" style="font-size: 16px; font-family: daniel black;"><tspan x="208.5839385986328">show_help</tspan></text></g><path d="M259.1,62.3C296.2,642.5 222.0,210.6 259.1,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M339.6301956176758,20C383.9,17.9 379.7,22.1 392.4,20.0C394.1,30.1 390.7,52.1 392.4,62.3C368.3,64.4 359.7,60.2 339.6,62.3C337.9,28.2 341.3,55.5 339.6,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="350.4873384833336" y="45.85714340209961" style="font-size: 16px; font-family: daniel black;"><tspan x="349.6301956176758">exit</tspan></text></g><g class="actor"><path d="M339.6301956176758,989.0857181549072C373.0,987.0 366.0,991.2 392.4,989.1C394.1,995.9 390.7,1009.4 392.4,1031.4C360.6,1033.5 379.7,1029.3 339.6,1031.4C341.3,1011.6 337.9,999.2 339.6,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="350.4873384833336" y="1014.9428615570068" style="font-size: 16px; font-family: daniel black;"><tspan x="349.6301956176758">exit</tspan></text></g><path d="M366.0,62.3C403.1,210.6 328.9,284.7 366.0,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M476.6536674499512,20C537.5,13.8 595.6,26.2 631.3,20.0C629.6,30.9 633.0,30.1 631.3,62.3C501.4,56.1 513.8,68.5 476.7,62.3C475.0,43.5 478.3,55.5 476.7,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="486.6536674499512" y="43.7142858505249" style="font-size: 16px; font-family: daniel black;"><tspan x="486.6536674499512">validate_config</tspan></text></g><g class="actor"><path d="M476.6536674499512,989.0857181549072C599.6,995.3 577.0,982.9 631.3,989.1C629.6,1014.3 633.0,1009.7 631.3,1031.4C530.4,1025.2 513.8,1037.6 476.7,1031.4C478.3,1016.0 475.0,1015.6 476.7,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="486.6536674499512" y="1012.8000040054321" style="font-size: 16px; font-family: daniel black;"><tspan x="486.6536674499512">validate_config</tspan></text></g><path d="M554.0,62.3C516.9,778.2 591.0,622.0 554.0,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M651.2786674499512,20C776.8,28.4 811.4,11.6 861.9,20.0C860.2,39.1 863.6,35.1 861.9,62.3C811.4,70.7 828.2,53.9 651.3,62.3C649.6,55.5 653.0,26.8 651.3,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="661.2786674499512" y="44.14285755157471" style="font-size: 16px; font-family: daniel black;"><tspan x="661.2786674499512">proc_ddns_records</tspan></text></g><g class="actor"><path d="M651.2786674499512,989.0857181549072C828.2,980.7 700.1,997.5 861.9,989.1C860.2,1004.6 863.6,1016.1 861.9,1031.4C828.2,1022.9 792.5,1039.8 651.3,1031.4C653.0,1024.6 649.6,996.1 651.3,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="661.2786674499512" y="1013.2285757064819" style="font-size: 16px; font-family: daniel black;"><tspan x="661.2786674499512">proc_ddns_records</tspan></text></g><path d="M756.6,62.3C719.5,690.6 793.7,766.7 756.6,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M907.3952598571777,20C1002.9,26.6 1046.8,13.4 1073.4,20.0C1075.1,33.9 1071.7,48.2 1073.4,62.3C934.0,68.9 1012.1,55.6 907.4,62.3C905.7,30.1 909.1,52.1 907.4,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="917.3952598571777" y="43.7142858505249" style="font-size: 16px; font-family: daniel black;"><tspan x="917.3952598571777">sync_ddns_rec</tspan></text></g><g class="actor"><path d="M907.3952598571777,989.0857181549072C947.2,995.7 970.6,982.4 1073.4,989.1C1071.7,995.9 1075.1,1012.8 1073.4,1031.4C955.9,1024.7 1033.6,1038.0 907.4,1031.4C909.1,1006.0 905.7,1019.2 907.4,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="917.3952598571777" y="1012.8000040054321" style="font-size: 16px; font-family: daniel black;"><tspan x="917.3952598571777">sync_ddns_rec</tspan></text></g><path d="M990.4,62.3C1027.5,648.4 953.3,766.7 990.4,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M1173.65140914917,20C1245.8,24.8 1226.7,15.2 1292.6,20.0C1294.3,31.3 1290.9,33.3 1292.6,62.3C1214.0,57.5 1241.2,67.0 1173.7,62.3C1175.3,45.2 1172.0,38.1 1173.7,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1183.65140914917" y="43.285715103149414" style="font-size: 16px; font-family: daniel black;"><tspan x="1183.65140914917">rec_query</tspan></text></g><g class="actor"><path d="M1173.65140914917,989.0857181549072C1264.1,984.3 1202.2,993.8 1292.6,989.1C1294.3,1021.2 1290.9,1019.4 1292.6,1031.4C1192.7,1036.1 1273.6,1026.6 1173.7,1031.4C1172.0,1002.2 1175.3,1003.4 1173.7,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1183.65140914917" y="1012.3714332580566" style="font-size: 16px; font-family: daniel black;"><tspan x="1183.65140914917">rec_query</tspan></text></g><path d="M1233.1,62.3C1270.2,591.1 1196.1,210.6 1233.1,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M1312.6085014343262,20C1421.1,12.9 1460.8,27.1 1489.1,20.0C1490.8,55.5 1487.4,31.2 1489.1,62.3C1402.4,55.2 1414.4,69.3 1312.6,62.3C1314.3,32.4 1310.9,30.1 1312.6,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1323.465644299984" y="43.285715103149414" style="font-size: 16px; font-family: daniel black;"><tspan x="1322.6085014343262">tencent_api_req</tspan></text></g><g class="actor"><path d="M1312.6085014343262,989.0857181549072C1380.0,996.1 1425.6,982.0 1489.1,989.1C1490.8,1009.9 1487.4,1008.4 1489.1,1031.4C1456.9,1038.4 1446.7,1024.3 1312.6,1031.4C1314.3,1012.5 1310.9,1021.2 1312.6,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1323.465644299984" y="1012.3714332580566" style="font-size: 16px; font-family: daniel black;"><tspan x="1322.6085014343262">tencent_api_req</tspan></text></g><path d="M1400.8,62.3C1363.8,840.8 1437.9,696.7 1400.8,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="actor"><path d="M1509.0723991394043,20C1546.9,14.9 1616.8,25.1 1637.3,20.0C1635.6,37.9 1639.0,43.8 1637.3,62.3C1610.3,57.2 1529.6,67.4 1509.1,62.3C1507.4,31.1 1510.8,50.1 1509.1,20.0" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1519.0723991394043" y="44.14285755157471" style="font-size: 16px; font-family: daniel black;"><tspan x="1519.0723991394043">rec_update</tspan></text></g><g class="actor"><path d="M1509.0723991394043,989.0857181549072C1529.6,984.0 1539.8,994.2 1637.3,989.1C1635.6,1018.5 1639.0,995.9 1637.3,1031.4C1529.6,1036.5 1616.8,1026.2 1509.1,1031.4C1510.8,1009.2 1507.4,1000.6 1509.1,989.1" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="1519.0723991394043" y="1013.2285757064819" style="font-size: 16px; font-family: daniel black;"><tspan x="1519.0723991394043">rec_update</tspan></text></g><path d="M1573.2,62.3C1610.3,840.8 1536.1,766.7 1573.2,989.1" stroke="#000000" fill="none" style="stroke-width: 2;"></path><g class="signal"><text x="109.10049629211426" y="90.7142858505249" style="font-size: 16px; font-family: daniel black;"><tspan x="109.10049629211426">option -h, --help</tspan></text><path d="M94.3,104.6C232.7,98.0 142.7,111.2 259.1,104.6" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="312.5567054748535" y="129.57143020629883" style="font-size: 16px; font-family: daniel black;"><tspan x="312.5567054748535"></tspan></text><path d="M259.1,124.6C334.3,128.8 290.5,120.3 366.0,124.6" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="115.51821327209473" y="142.1142864227295" style="font-size: 16px; font-family: daniel black;"><tspan x="115.51821327209473">options</tspan><tspan dy="1.2em" x="115.51821327209473">-h, --help， --config-file，--force-update, --log-level</tspan></text><path d="M94.3,185.2C287.1,166.8 204.6,203.6 554.0,185.2" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M476.2898292541504,205.20000457763672C565.0,211.4 575.0,199.0 631.6,205.2C630.3,213.2 633.0,229.5 631.6,238.3C513.6,232.1 531.2,244.6 476.3,238.3C477.6,217.4 475.0,210.5 476.3,205.2" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="482.1469721198082" y="224.7714328765869" style="font-size: 16px; font-family: daniel black;"><tspan x="481.2898292541504">extract_config()</tspan></text></g><g class="signal"><text x="376.00634384155273" y="265.9142894744873" style="font-size: 16px; font-family: daniel black;"><tspan x="376.00634384155273">Invalid configuration</tspan></text><path d="M554.0,280.6C523.9,273.1 508.9,288.1 366.0,280.6" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="655.2782859802246" y="305.6285762786865" style="font-size: 16px; font-family: daniel black;"><tspan x="655.2782859802246"></tspan></text><path d="M554.0,300.6C724.2,292.5 599.6,308.7 756.6,300.6" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M669.9877281188965,320.6285762786865C697.7,313.7 815.5,327.6 843.2,320.6C841.9,345.8 844.5,346.8 843.2,353.8C815.5,360.7 749.8,346.8 670.0,353.8C668.7,342.8 671.3,325.9 670.0,320.6" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="680.130585193634" y="340.2000045776367" style="font-size: 16px; font-family: daniel black;"><tspan x="674.9877281188965">get_ddns_field()</tspan></text></g><g class="signal"><text x="479.0718116760254" y="383.9142904281616" style="font-size: 16px; font-family: daniel black;"><tspan x="479.0718116760254">No DDNS records</tspan></text><path d="M756.6,390.9C428.5,406.5 552.5,375.3 366.0,390.9" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g><g class="signal"><text x="873.4917182922363" y="415.9142894744873" style="font-size: 16px; font-family: daniel black;"><tspan x="873.4917182922363"></tspan></text><path d="M756.6,410.9C945.1,420.3 794.0,401.6 990.4,410.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M888.6765098571777,430.9142894744873C991.4,422.8 937.5,439.1 1092.1,430.9C1094.2,470.7 1090.0,458.5 1092.1,483.3C939.3,475.1 921.2,491.4 888.7,483.3C886.6,466.0 890.8,454.9 888.7,430.9" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="893.6765098571777" y="450.4857177734375" style="font-size: 16px; font-family: daniel black;"><tspan x="893.6765098571777">query_interface_ip()</tspan><tspan dy="1.2em" x="893.6765098571777">query_nslookup_ip()</tspan></text></g><g class="signal"><text x="1020.4444541931152" y="503.80000400543213" style="font-size: 16px; font-family: daniel black;"><tspan x="1020.4444541931152">option --force-update</tspan><tspan dy="1.2em" x="1020.4444541931152">record out of date</tspan></text><path d="M990.4,539.6C1115.7,549.3 1094.2,529.9 1233.1,539.6" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="793.213680267334" y="567.600004196167" style="font-size: 16px; font-family: daniel black;"><tspan x="793.213680267334">record up to date</tspan></text><path d="M990.4,581.0C864.3,590.4 794.0,571.7 756.6,581.0" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1316.9852027893066" y="606.0285758972168" style="font-size: 16px; font-family: daniel black;"><tspan x="1316.9852027893066"></tspan></text><path d="M1233.1,601.0C1334.1,594.3 1360.6,607.7 1400.8,601.0" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1273.003059387207" y="629.0285758972168" style="font-size: 16px; font-family: daniel black;"><tspan x="1273.003059387207">log_msg()</tspan></text><path d="M1400.8,644.2C1260.0,650.9 1311.7,637.5 1233.1,644.2" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1000.3930320739746" y="674.7428607940674" style="font-size: 16px; font-family: daniel black;"><tspan x="1000.3930320739746">record cache out of date</tspan></text><path d="M1233.1,682.2C1029.2,672.5 1194.3,691.9 990.4,682.2" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1190.4714908599854" y="702.7142896652222" style="font-size: 16px; font-family: daniel black;"><tspan x="1190.4714908599854">option --force-update</tspan><tspan dy="1.2em" x="1190.4714908599854">record out of date</tspan><tspan dy="1.2em" x="1190.4714908599854"></tspan></text><path d="M990.4,738.5C1211.2,715.2 1184.1,761.8 1573.2,738.5" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="766.590404510498" y="766.9428606033325" style="font-size: 16px; font-family: daniel black;"><tspan x="766.590404510498">record cache up to date</tspan></text><path d="M990.4,780.8C934.3,771.4 813.4,790.2 756.6,780.8" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1487.0122394561768" y="805.8000049591064" style="font-size: 16px; font-family: daniel black;"><tspan x="1487.0122394561768"></tspan></text><path d="M1573.2,800.8C1529.1,807.7 1545.6,793.9 1400.8,800.8" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1443.0300960540771" y="828.8000049591064" style="font-size: 16px; font-family: daniel black;"><tspan x="1443.0300960540771">log_msg()</tspan></text><path d="M1400.8,843.9C1458.7,850.8 1442.2,837.0 1573.2,843.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="1281.7885303497314" y="868.9428615570068" style="font-size: 16px; font-family: daniel black;"><tspan x="1281.7885303497314"></tspan></text><path d="M1573.2,863.9C1383.2,887.3 1234.1,840.6 990.4,863.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="signal"><text x="873.4917182922363" y="888.9428615570068" style="font-size: 16px; font-family: daniel black;"><tspan x="873.4917182922363"></tspan></text><path d="M990.4,883.9C809.2,874.6 940.7,893.3 756.6,883.9" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowOpen&quot;);"></path></g><g class="note"><path d="M660.9917945861816,903.9428615570068C706.9,911.6 691.6,896.3 852.2,903.9C853.3,911.2 851.1,915.8 852.2,931.9C748.3,924.3 781.1,939.6 661.0,931.9C662.1,925.2 659.9,918.3 661.0,903.9" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></path><text x="665.9917945861816" y="923.514289855957" style="font-size: 16px; font-family: daniel black;"><tspan x="665.9917945861816">⮬ handle next record</tspan></text></g><g class="signal"><text x="602.7831916809082" y="962.0857191085815" style="font-size: 16px; font-family: daniel black;"><tspan x="602.7831916809082">No more records</tspan></text><path d="M990.4,969.1C741.8,944.1 776.7,994.1 366.0,969.1" stroke="#000000" fill="none" style="stroke-width: 2; stroke-dasharray: 6, 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></path></g></svg>